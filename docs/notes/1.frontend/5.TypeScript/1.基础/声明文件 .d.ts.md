---
title: 声明文件 .d.ts
createTime: 2025/08/19 13:52:56
permalink: /frontend/tx4znu0a/
---
有 declare 声明文件，才会有对应的代码补全、接口提示等功能。

## 结构
 在JavaScript中一个库有很多使用方式，需要写声明文件去匹配它们。

### 库的类型
#### 全局库
能在全局命名空间下访问的，不要任何形式的 import。

+ 顶级的var语句或function声明
+ 一个或多个赋值语句到window.someName
+ 假设DOM原始值像document或window是存在的
+ 例如 jquery，@types/jquery

#### 模块化库
##### CommonJS
```typescript
var fs = require("fs");
```

##### RequireJs（AMD）
```typescript
define(..., ['someLib'], function(someLib) {

});
```

##### SeaJs（CMD）
```typescript
define(function(require, exports, module) {
  
});
```

##### UMD


##### ES6 Module
```typescript
import fs = require("fs");
```

## 使用示例
```typescript
// 全局变量
declare var foo: number;
// 全局函数
declare function greet(greeting: string): void;
// 函数重载
declare function getWidget(n: number): Widget;
declare function getWidget(s: string): Widget[];
// 对象
declare namespace myLib {
    let numberOfGreetings: number;
    function makeGreeting(s: string): string;
}
// 接口
interface GreetingSettings {
  greeting: string;
  duration?: number;
  color?: string;
}
declare function greet(setting: GreetingSettings): void;
// 类型别名
type GreetingLike = string | (() => string) | MyGreeter;
declare function greet(g: GreetingLike): void;
// 组织类型
declare namespace GreetingLib {
    interface LogOptions {
        verbose?: boolean;
    }
    interface AlertOptions {
        modal: boolean;
        title?: string;
        color?: string;
    }
}
// 类
declare class Greeter {
    constructor(greeting: string);

    greeting: string;
    showGreeting(): void;
}
```

## 规范
+ 不要使用 `String``Number``Bollean` `Object`类型
+ 不要定义一个从来没使用过其类型参数的泛型类型

