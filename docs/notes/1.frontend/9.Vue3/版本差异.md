---
title: Vue2 和 Vue3 差异概述
createTime: 2025/08/25 17:53:54
permalink: /frontend/vue3/6uz3881z/
---

## 指令

### v-if 和 v-for 的优先级

- Vue2 中，同时使用时，`v-for` 优先级高于 `v-if`
- Vue3 中，同时使用时，`v-if` 优先级高于 `v-for`

## API 方式

- Vue2，使用选项式 API
- Vue3，支持组合式 API，也支持选项式 API

## 生命周期

- Vue2 生命周期钩子函数
    - beforeCreate
    - created
    - beforeMount
    - mounted
    - beforeUpdate
    - updated
    - beforeDestroy
    - destroyed
- Vue3 生命周期钩子函数
    - onBeforeUnmount
    - created
    - beforeMount
    - mounted
    - beforeUpdate
    - updated
    - beforeDestroy
    - onUnmounted

## 响应式原理

- Vue 2：基于 Object.defineProperty() 实现，通过劫持对象属性的 getter 和 setter 追踪变化。存在局限性，无法检测对象属性的添加或删除，对数组部分操作（如通过索引修改元素、修改数组长度）不能触发响应式更新。
- Vue 3：采用 Proxy 对象实现，能拦截对象多种操作，可全面追踪数据变化，解决了 Vue 2 响应式系统的局限，对对象属性的添加、删除及数组操作都能很好地进行响应式处理。

## 性能优化

- Vue 2：虚拟 DOM 采用传统的 Diff 算法，在处理大规模数据更新时性能会受到一定影响。
- Vue 3：采用了静态提升、Patch Flag 等优化技术。静态提升可减少重复创建静态节点，Patch Flag 能精准标记动态节点，提高 Diff 算法效率，提升渲染性能。

## 破坏性变更

- `v-model` 语法变更（默认使用 modelValue 替代 value）。
- 事件总线 (on/on/off) 被移除，推荐使用第三方库（如 mitt）