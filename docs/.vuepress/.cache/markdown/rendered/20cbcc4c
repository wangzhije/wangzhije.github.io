{"content":"<h2 id=\"git-clone\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#git-clone\"><span>Git clone</span></a></h2>\n<h3 id=\"git-clone-下载慢的解决方式\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#git-clone-下载慢的解决方式\"><span><code v-pre>git clone</code> 下载慢的解决方式</span></a></h3>\n<p><code v-pre>git clone --depth 1 &lt;repository&gt;</code></p>\n<ul>\n<li>为什么快？下载的内容少了。</li>\n<li>代码是全的吗？是的。完全可以正常开发、拉取、提交</li>\n<li>下载内容少了什么？ 历史 commit</li>\n<li>问题 1：历史 commit\n<ul>\n<li><code v-pre>git reset</code> 不能切换到历史 commit</li>\n<li><code v-pre>git pull</code> 不能拉取历史 commit</li>\n<li>解决：<code v-pre>git pull --unshallow</code> 需要的时候再下载历史 commit 就行了</li>\n</ul>\n</li>\n<li>问题 2：分支 branch\n<ul>\n<li>拉取到本地的代码库只有一个主分支，不能查看到所有分支，不能切换分支</li>\n<li>直接 fetch 不行，fetch 用于拉取新的 commit 到本地</li>\n<li>解决：修改 fetch 配置\n<ul>\n<li>单个分支 <code v-pre>git config remote.origin.fetch &quot;+refs/heads/&lt;branchName&gt;:refs/remotes/origin/&lt;branchName&gt;&quot;</code></li>\n<li>所有分支 <code v-pre>git config remote.origin.fetch &quot;+refs/heads/*:refs/remotes/origin/*&quot;</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Git 底层\n<ul>\n<li>glob 对象: 存储文件内容</li>\n<li>tree 对象: 存储文件路径</li>\n<li>commit 对象: 存储 commit，关联多个 tree</li>\n</ul>\n</li>\n</ul>\n","env":{"base":"/blog/","filePath":"/Users/wangzhijie/Desktop/myspace/wangzhije.github.io/docs/notes/tools/1.Git/clone.md","filePathRelative":"notes/tools/1.Git/clone.md","frontmatter":{"title":"git clone","createTime":"2025/08/18 17:41:24","permalink":"/tools/git/qs4vyxbe/"},"sfcBlocks":{"template":{"type":"template","content":"<template><h2 id=\"git-clone\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#git-clone\"><span>Git clone</span></a></h2>\n<h3 id=\"git-clone-下载慢的解决方式\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#git-clone-下载慢的解决方式\"><span><code v-pre>git clone</code> 下载慢的解决方式</span></a></h3>\n<p><code v-pre>git clone --depth 1 &lt;repository&gt;</code></p>\n<ul>\n<li>为什么快？下载的内容少了。</li>\n<li>代码是全的吗？是的。完全可以正常开发、拉取、提交</li>\n<li>下载内容少了什么？ 历史 commit</li>\n<li>问题 1：历史 commit\n<ul>\n<li><code v-pre>git reset</code> 不能切换到历史 commit</li>\n<li><code v-pre>git pull</code> 不能拉取历史 commit</li>\n<li>解决：<code v-pre>git pull --unshallow</code> 需要的时候再下载历史 commit 就行了</li>\n</ul>\n</li>\n<li>问题 2：分支 branch\n<ul>\n<li>拉取到本地的代码库只有一个主分支，不能查看到所有分支，不能切换分支</li>\n<li>直接 fetch 不行，fetch 用于拉取新的 commit 到本地</li>\n<li>解决：修改 fetch 配置\n<ul>\n<li>单个分支 <code v-pre>git config remote.origin.fetch &quot;+refs/heads/&lt;branchName&gt;:refs/remotes/origin/&lt;branchName&gt;&quot;</code></li>\n<li>所有分支 <code v-pre>git config remote.origin.fetch &quot;+refs/heads/*:refs/remotes/origin/*&quot;</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Git 底层\n<ul>\n<li>glob 对象: 存储文件内容</li>\n<li>tree 对象: 存储文件路径</li>\n<li>commit 对象: 存储 commit，关联多个 tree</li>\n</ul>\n</li>\n</ul>\n</template>","contentStripped":"<h2 id=\"git-clone\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#git-clone\"><span>Git clone</span></a></h2>\n<h3 id=\"git-clone-下载慢的解决方式\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#git-clone-下载慢的解决方式\"><span><code v-pre>git clone</code> 下载慢的解决方式</span></a></h3>\n<p><code v-pre>git clone --depth 1 &lt;repository&gt;</code></p>\n<ul>\n<li>为什么快？下载的内容少了。</li>\n<li>代码是全的吗？是的。完全可以正常开发、拉取、提交</li>\n<li>下载内容少了什么？ 历史 commit</li>\n<li>问题 1：历史 commit\n<ul>\n<li><code v-pre>git reset</code> 不能切换到历史 commit</li>\n<li><code v-pre>git pull</code> 不能拉取历史 commit</li>\n<li>解决：<code v-pre>git pull --unshallow</code> 需要的时候再下载历史 commit 就行了</li>\n</ul>\n</li>\n<li>问题 2：分支 branch\n<ul>\n<li>拉取到本地的代码库只有一个主分支，不能查看到所有分支，不能切换分支</li>\n<li>直接 fetch 不行，fetch 用于拉取新的 commit 到本地</li>\n<li>解决：修改 fetch 配置\n<ul>\n<li>单个分支 <code v-pre>git config remote.origin.fetch &quot;+refs/heads/&lt;branchName&gt;:refs/remotes/origin/&lt;branchName&gt;&quot;</code></li>\n<li>所有分支 <code v-pre>git config remote.origin.fetch &quot;+refs/heads/*:refs/remotes/origin/*&quot;</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Git 底层\n<ul>\n<li>glob 对象: 存储文件内容</li>\n<li>tree 对象: 存储文件路径</li>\n<li>commit 对象: 存储 commit，关联多个 tree</li>\n</ul>\n</li>\n</ul>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n## Git clone\n\n### `git clone` 下载慢的解决方式\n\n`git clone --depth 1 <repository>`\n\n- 为什么快？下载的内容少了。\n- 代码是全的吗？是的。完全可以正常开发、拉取、提交\n- 下载内容少了什么？ 历史 commit\n- 问题 1：历史 commit\n  - `git reset` 不能切换到历史 commit\n  - `git pull` 不能拉取历史 commit\n  - 解决：`git pull --unshallow` 需要的时候再下载历史 commit 就行了\n- 问题 2：分支 branch\n  - 拉取到本地的代码库只有一个主分支，不能查看到所有分支，不能切换分支\n  - 直接 fetch 不行，fetch 用于拉取新的 commit 到本地\n  - 解决：修改 fetch 配置\n    - 单个分支 `git config remote.origin.fetch \"+refs/heads/<branchName>:refs/remotes/origin/<branchName>\"`\n    - 所有分支 `git config remote.origin.fetch \"+refs/heads/*:refs/remotes/origin/*\"`\n- Git 底层\n  - glob 对象: 存储文件内容\n  - tree 对象: 存储文件路径\n  - commit 对象: 存储 commit，关联多个 tree","excerpt":"","includedFiles":[],"tasklistId":0,"title":"","headers":[{"level":2,"title":"Git clone","slug":"git-clone","link":"#git-clone","children":[{"level":3,"title":"git clone 下载慢的解决方式","slug":"git-clone-下载慢的解决方式","link":"#git-clone-下载慢的解决方式","children":[]}]}]}}
